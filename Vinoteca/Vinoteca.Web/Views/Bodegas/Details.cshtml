@model Vinoteca.Web.Views.Bodegas.BodegaListVm

@{
    ViewBag.Title = "Details";
    ViewBag.Direccion = Model.Direccion;
    ViewBag.ShowBodegaDetails = true;
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<body>
    <script>
        function initMap() {
            console.log("initMap called");
            var direccionBodega = ("@ViewBag.Direccion");

            var geocoder = new google.maps.Geocoder();

            geocoder.geocode({ address: direccionBodega }, function (results, status) {
                if (status === google.maps.GeocoderStatus.OK) {
                    var latlng = results[0].geometry.location;

                    var mapOptions = {
                        center: latlng,
                        zoom: 15
                    };

                    var map = new google.maps.Map(document.getElementById("map"), mapOptions);

                    var marker = new google.maps.Marker({
                        position: latlng,
                        map: map,
                        title: "Ubicación de la bodega"
                    });
                } else {
                    alert("La geocodificación de la dirección no tuvo éxito debido a: " + status);
                }
            });
        }
    </script>
    <h2>Detalles Bodega</h2>

    <div id="map" style="height: 400px; width: 100%;"></div>


    <div>
        <dl class="dl-horizontal">
            <dt>
                @Html.DisplayNameFor(model => model.NombreBodega)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.NombreBodega)
            </dd>
            <dt>
                @Html.DisplayNameFor(model => model.Direccion)
            </dt>
            <dd>
                @Html.DisplayFor(model => model.Direccion)
            </dd>
        </dl>
    </div>
    <p>
        @Html.ActionLink("Volver", "Index", null, new { @class = "btn btn-success" })
    </p>
</body>